app.controller("allotmentCtrl",function(n,t,i){function u(){f.post("../leaveAllotment/loadAllotment").then(function(n){ngTable(r,n.data,r.itemsPerPage,e)})}function o(){f.post("../leaveAllotment/loadcboAlot").then(function(n){r.loadcboAls=n.data})}var r=n,f=t,e=i;toastr.options={progressBar:!0};u();o();r.clearModalInput=function(){r.showUpdate=!1;r.showNew=!0;r.titleHead="Create New";r.a={NumCode:"",Value:""};r.DataExist=!1};r.newAlot=function(){r.showNew=!0;r.showUpdate=!1;f.post("../leaveAllotment/validateAlot",r.a).then(function(n){n.data=="error"?(r.DataExist=!0,u()):(r.DataExist=!1,swal({text:"Are you sure do you want to add this information?",icon:"info",buttons:!0,dangerMode:!0}).then(function(n){n&&f.post("../leaveAllotment/saveNewAlot",r.a).then(function(){$(".bs-example-modal-md").modal("hide");toastr.success("Successfully added!","NEW RECORD!");u()})}))})};r.units=[{id:!1,label:"Working Day(s)"},{id:!0,label:"Calendar Day(s)"},];r.editAlot=function(n){r.a=n;r.DataExist=!1;r.showUpdate=!0;r.showNew=!1;r.titleHead="Update"};r.updateAlot=function(){f.post("../leaveAllotment/validateAlot",r.a).then(function(n){n.data=="error"?(r.DataExist=!0,u()):(r.DataExist=!1,f.post("../leaveAllotment/updateAlot",r.a).then(function(){$(".bs-example-modal-md").modal("hide");toastr.success("Successfully updated!","CHANGE RECORD!");u()}))})};r.removeAlot=function(n){swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this information!",icon:"warning",buttons:{Yes:{text:"Yes, Delete it",value:!0},No:{text:"No",value:!1,className:"btn-danger"}}}).then(function(t){t&&f.post("../leaveAllotment/removeAlot",n).then(function(){toastr.success("Successfully deleted!","REMOVE RECORD!");u()})})};r.closeModal=function(){u();$(".bs-modal-md").modal("hide")};r.perPage=function(){u()}});
//# sourceMappingURL=allotmentCtrl.min.js.map
